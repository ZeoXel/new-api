This part describes the detailed method for uploading files towards our S3 bucket with temporary credentials.

Get STS Token
Endpoint overview:

POST https://api.tripo3d.ai/v2/openapi/upload/sts/token
Request
format: For image, this field must be set in webp,jpeg or png. The resolution of image must be between 2020px and 60006000px. The suggested resolution should be more than 256*256px. For 3D model file, this field must be set in glb,obj,fbx or stl.
Response
s3_host: Our S3 host, normally should be s3.us-west-2.amazonaws.com.
resource_bucket: Our bucket to store data, normally should be tripo-data.
resource_uri: The target path in S3 bucket for the uploading file to store.
session_token: Temporary token assigned by our system, used for uploading files.
sts_ak: Temporary access key id assigned by our system, used for uploading files.
sts_sk: Temporary secret access key assigned by our system, used for uploading files.
Behaviour
After this step, you will be able to upload your local file to our system with information we provided.

Example
Request:

Library:
curl
curl -X POST 'https://api.tripo3d.ai/v2/openapi/upload/sts/token' \
-H 'Content-Type: application/json' \
-H "Authorization: Bearer ${APIKEY}" \
-d '{        "format": "webp"
    }'
Response:

{
  "code": 0,
  "data": {
    "s3_host": "s3.us-west-2.amazonaws.com",
    "resource_bucket": "tripo-data",
    "resource_uri": "tcli_xxxx/20250402/xxxx/input.webp",
    "session_token": "IQoJb3Jpxx...[EXAMPLE_SESSION_TOKEN]...xxxx",
    "sts_ak": "ASIAVPTDXXXXXXXXXXXX",
    "sts_sk": "xxxxxxxxxxXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
  }
}
Errors
HTTP Status Code	Error Code	Description	Suggestion
400	1004	One or more of your parameter is invalid.	Refer to the API documentation for parameter requirements.
403	1005	You are not allowed to access this resource.	Check if you have sufficient permission.
Upload with STS token
Behaviour
After getting all information for uploading with session token, it will need to use AWS SDK to upload the file. Based on programming language, it will need to download different dependencies.

Prerequisites
file_path: Your local file path.
resource_bucket: Here should always be tripo-data.
resource_uri: S3 key which has been generated by our system.
session_token: Temporary token assigned by our system, used for uploading files.
sts_ak: Temporary access key id assigned by our system, used for uploading files.
sts_sk: Temporary secret access key assigned by our system, used for uploading files.
Example
Library:
shell
aws configure set aws_access_key_id "sts_ak"
aws configure set aws_secret_access_key "sts_sk"
aws configure set aws_session_token "session_token"
aws configure set region "us-west-2"

aws s3 cp "file_path" "s3://resource_bucket/resource_uri"
Example for using S3 accelerate endpoint
We strongly recommend using the following method if you are:

In the country which is not US.
Uploading a large file which exceeds 100KB.
Library:
shell
aws configure set aws_access_key_id "sts_ak"
aws configure set aws_secret_access_key "sts_sk"
aws configure set aws_session_token "session_token"
aws configure set region "us-west-2"

aws s3 cp "file_path" "s3://resource_bucket/resource_uri" --endpoint-url "https://s3-accelerate.amazonaws.com"
